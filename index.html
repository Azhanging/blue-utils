<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Title</title>
  </head>
  <body>
    <button id="debounce">debounce</button>
    <button id="throttle">throttle</button>
    <script>
      var data = {
        aa: 123,
        ttt: 34534
      };
      var res = blueUtils.extend({
        data: {
          a: 1,
          c: 6
        },
        mounted() {
        }
      }, {
        created() {
        },
        children: [{
          a: 1
        }, {
          b: 2
        }],
        data: {
          b: 2,
          d() {
          }
        },
        methods: {
          get() {
          }
        }
      });
      console.log(res);

      const debounceFn = blueUtils.debounce(function () {
        console.log(event, +new Date());
      });

      const throttleFn = blueUtils.throttle(function (event) {
        console.log(event, +new Date());
      }, 1000);

      document.querySelector(`#debounce`).addEventListener('click', (event) => {
        debounceFn(null, [event]);
      });
      document.querySelector(`#throttle`).addEventListener('click', (event) => {
        throttleFn(null, [event]);
      });

      Function.prototype.myCall = function () {
        let [ctx, ...args] = arguments;
        if (!ctx) ctx = window;
        const key = `${new Date().getTime()}${Math.random()}`;
        ctx[key] = this;
        setTimeout(() => {
          delete ctx[key];
        }, 0);
        ctx[key](...args);
      };

      Function.prototype.myApply = function () {
        let [ctx, args = []] = arguments;
        if (!ctx) ctx = window;
        const key = `${new Date().getTime()}${Math.random()}`;
        ctx[key] = this;
        setTimeout(() => {
          delete ctx[key];
        }, 0);
        return ctx[key](...args);
      };

      Function.prototype.myBind = function () {
        const [ctx, ...args] = arguments;
        const _this = this;
        return function () {
          return _this.myApply(ctx, [...args, ...arguments]);
        };
      };

      function a(data) {
        console.log(this.value, data);
      }

      a.myCall({ value: 1 }, '123');
      a.myCall(null, '123');

      a.myApply({ value: '123123' }, [`data1`, `data2`]);

      function bindFn() {
        console.log(arguments);
      }

      bindFn.myBind({ value: 1 }, `data1`, `data2`, `data3`)(`data4`);

      function _new() {
        const [fn, ...args] = arguments;
        const obj = Object.create(fn.prototype);
        fn.apply(obj, args);
        return obj;
      }

      function P(opts) {
        this.a = opts.a;
        this.b = opts.b;
      }

      P.prototype.getA = function () {
        return this.a;
      };

      const p = _new(P, {
        a: 1,
        b: 2
      });

      console.log(p);

      function A() {
        this.a = 11;
        this.b = 22;
      }

      const obj1 = {};

      const obj2 = {
        c: 3,
        cc: 4,
        ccc: new A()
      };

      const obj3 = {
        d: 4,
        e: 5,
        ccc: 5
      };

      console.log(blueUtils.extend(obj1, obj2, obj3));


    </script>
  </body>
</html>